<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaçš„2026å¹´1æœˆè¡ŒåŠ¨æ¸…å• âœ¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #E0F2FE 0%, #BFDBFE 50%, #DDD6FE 100%);
            min-height: 100vh;
        }
        
        .task-card {
            transition: all 0.3s ease;
            background: white;
        }
        
        .task-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(14, 165, 233, 0.15);
        }
        
        .checkbox-custom {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #cbd5e1;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .checkbox-custom:checked {
            background-color: #0ea5e9;
            border-color: #0ea5e9;
            background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
        }
        
        .battery-indicator {
            width: 100px;
            height: 30px;
            border: 2px solid #64748b;
            border-radius: 6px;
            position: relative;
            overflow: hidden;
        }
        
        .battery-fill {
            height: 100%;
            transition: width 0.5s ease, background-color 0.5s ease;
        }
        
        .battery-tip {
            width: 4px;
            height: 16px;
            background-color: #64748b;
            position: absolute;
            right: -6px;
            top: 7px;
            border-radius: 0 2px 2px 0;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            background-color: #0ea5e9;
            color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s ease;
            z-index: 2000;
        }
        
        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .scrollbar-custom::-webkit-scrollbar {
            width: 8px;
        }
        
        .scrollbar-custom::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        
        .scrollbar-custom::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 4px;
        }
        
        .draggable-task {
            cursor: move;
            transition: all 0.2s ease;
            user-select: none;
        }
        
        .draggable-task:hover {
            transform: scale(1.02);
        }
        
        .draggable-task.dragging {
            opacity: 0.5;
        }
        
        .drop-zone {
            min-height: 120px;
            transition: background-color 0.2s;
        }
        
        .drop-zone.drag-over {
            background-color: #dbeafe !important;
            border-color: #0ea5e9 !important;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div id="toast" class="toast"></div>
    <div id="root"></div>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.backgroundColor = type === 'success' ? '#0ea5e9' : type === 'error' ? '#ef4444' : '#8b5cf6';
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        const storage = {
            get: (key) => {
                try {
                    const value = localStorage.getItem(key);
                    return value ? JSON.parse(value) : null;
                } catch (error) {
                    console.error('Error reading:', error);
                    return null;
                }
            },
            set: (key, value) => {
                try {
                    localStorage.setItem(key, JSON.stringify(value));
                    return true;
                } catch (error) {
                    console.error('Error writing:', error);
                    return false;
                }
            }
        };

        const WEEKDAYS = [
            { id: 0, name: 'å¾…åŠ' },
            { id: 1, name: 'å‘¨ä¸€' },
            { id: 2, name: 'å‘¨äºŒ' },
            { id: 3, name: 'å‘¨ä¸‰' },
            { id: 4, name: 'å‘¨å››' },
            { id: 5, name: 'å‘¨äº”' }
        ];

        const DEFAULT_CHECKPOINTS = [
            { id: 'cp1', text: 'è‡³å°‘ç”³è¯·1ä¸ªstartupå­µåŒ–å™¨' },
            { id: 'cp2', text: 'AIè½¯ä»¶demoå¯ä»¥ç»™3ä¸ªç¤¾å·¥æœ‹å‹è¯•ç”¨å¹¶æ”¶é›†åé¦ˆ' },
            { id: 'cp3', text: 'ä½“é‡ç»´æŒ103-104ï¼Œbrain fogæ˜æ˜¾æ”¹å–„' },
            { id: 'cp4', text: 'LinkedIn connectionså¢åŠ 40+' },
            { id: 'cp5', text: 'å’Œå¢¨å°”æœ¬PhDå¯¼å¸ˆå»ºç«‹äº†åˆæ­¥è”ç³»' },
            { id: 'cp6', text: 'å®Œæˆäº†è‡³å°‘1ç¯‡å’ŒAI+ç¤¾å·¥ç›¸å…³çš„æ·±åº¦é˜…è¯»/ç¬”è®°' }
        ];

        const DEFAULT_DAILY = [
            { id: 'd1', text: 'â˜€ï¸ æ™¨é—´é˜³å…‰15åˆ†é’Ÿ' },
            { id: 'd2', text: 'ğŸ¥¤ è›‹ç™½ç²‰ + Omega-3 + Bç»´ç”Ÿç´ ' },
            { id: 'd3', text: 'ğŸƒ 30åˆ†é’Ÿè¿åŠ¨/ç‘œä¼½' },
            { id: 'd4', text: 'ğŸ’­ æƒ…ç»ªcheck-inï¼ˆç”µæ± %ï¼Ÿï¼‰' },
            { id: 'd5', text: 'ğŸ“” æ™šé—´æ—¥è®° + æ„Ÿæ©' },
            { id: 'd6', text: 'ğŸ“ å’ŒStarkåˆ†äº«ä»Šå¤©' },
            { id: 'd7', text: 'ğŸ˜´ 10:30åæ— å±å¹• + 4-7-8å‘¼å¸' }
        ];

        const DEFAULT_WEEKLY = [
            { id: 'w1', text: 'ğŸ¸ ç¾½æ¯›çƒ 2æ¬¡' },
            { id: 'w2', text: 'ğŸ’ª å¥èº«æˆ¿ 1æ¬¡' },
            { id: 'w3', text: 'ğŸ“ å®ŒæˆSandyçš„broker case' },
            { id: 'w4', text: 'ğŸ“š ç ”ç©¶RÃ³isÃ­n McNaneyçš„è®ºæ–‡' },
            { id: 'w5', text: 'ğŸ”— LinkedInæ–°å¢10ä¸ªconnections' },
            { id: 'w6', text: 'ğŸ’» AIå¼€å‘ 6å°æ—¶' },
            { id: 'w7', text: 'ğŸ“– Knowledge input 4å°æ—¶' },
            { id: 'w8', text: 'ğŸª å‘¨æ—¥æ™šé—´reflection' }
        ];

        function App() {
            const [currentDate, setCurrentDate] = useState(new Date().getDate() <= 31 ? new Date().getDate() : 1);
            const [dailyChecks, setDailyChecks] = useState({});
            const [weeklyChecks, setWeeklyChecks] = useState({});
            const [weeklyAssign, setWeeklyAssign] = useState({});
            const [checkpoints, setCheckpoints] = useState({});
            const [battery, setBattery] = useState(60);
            const [notes, setNotes] = useState({});
            
            const [dailyTasks, setDailyTasks] = useState(DEFAULT_DAILY);
            const [weeklyTasks, setWeeklyTasks] = useState(DEFAULT_WEEKLY);
            
            const [draggedTask, setDraggedTask] = useState(null);
            const [dragOverDay, setDragOverDay] = useState(null);
            
            const [showAddDaily, setShowAddDaily] = useState(false);
            const [showAddWeekly, setShowAddWeekly] = useState(false);
            const [showBackup, setShowBackup] = useState(false);
            
            const [newDailyText, setNewDailyText] = useState('');
            const [newWeeklyText, setNewWeeklyText] = useState('');

            useEffect(() => {
                const d1 = storage.get('eva-daily-checks');
                const d2 = storage.get('eva-weekly-checks');
                const d3 = storage.get('eva-weekly-assign');
                const d4 = storage.get('eva-checkpoints');
                const d5 = storage.get('eva-battery');
                const d6 = storage.get('eva-notes');
                const d7 = storage.get('eva-daily-tasks');
                const d8 = storage.get('eva-weekly-tasks');
                
                if (d1) setDailyChecks(d1);
                if (d2) setWeeklyChecks(d2);
                if (d3) setWeeklyAssign(d3);
                if (d4) setCheckpoints(d4);
                if (d5 !== null) setBattery(d5);
                if (d6) setNotes(d6);
                if (d7) setDailyTasks(d7);
                if (d8) setWeeklyTasks(d8);
                
                console.log('æ•°æ®åŠ è½½å®Œæˆ');
            }, []);

            useEffect(() => {
                const timer = setTimeout(() => {
                    storage.set('eva-daily-checks', dailyChecks);
                    storage.set('eva-weekly-checks', weeklyChecks);
                    storage.set('eva-weekly-assign', weeklyAssign);
                    storage.set('eva-checkpoints', checkpoints);
                    storage.set('eva-battery', battery);
                    storage.set('eva-notes', notes);
                    storage.set('eva-daily-tasks', dailyTasks);
                    storage.set('eva-weekly-tasks', weeklyTasks);
                }, 500);
                return () => clearTimeout(timer);
            }, [dailyChecks, weeklyChecks, weeklyAssign, checkpoints, battery, notes, dailyTasks, weeklyTasks]);

            const toggleDaily = (taskId) => {
                const key = `${currentDate}-${taskId}`;
                setDailyChecks(prev => ({ ...prev, [key]: !prev[key] }));
            };

            const toggleWeekly = (taskId) => {
                setWeeklyChecks(prev => ({ ...prev, [taskId]: !prev[taskId] }));
            };

            const toggleCheckpoint = (cpId) => {
                setCheckpoints(prev => ({ ...prev, [cpId]: !prev[cpId] }));
            };

            const addDailyTask = () => {
                if (!newDailyText.trim()) return;
                setDailyTasks([...dailyTasks, { id: `custom-${Date.now()}`, text: newDailyText }]);
                setNewDailyText('');
                setShowAddDaily(false);
                showToast('ä»»åŠ¡å·²æ·»åŠ ');
            };

            const removeDailyTask = (id) => {
                if (confirm('ç¡®å®šåˆ é™¤ï¼Ÿ')) {
                    setDailyTasks(dailyTasks.filter(t => t.id !== id));
                }
            };

            const addWeeklyTask = () => {
                if (!newWeeklyText.trim()) return;
                setWeeklyTasks([...weeklyTasks, { id: `custom-${Date.now()}`, text: newWeeklyText }]);
                setNewWeeklyText('');
                setShowAddWeekly(false);
                showToast('ä»»åŠ¡å·²æ·»åŠ ');
            };

            const removeWeeklyTask = (id) => {
                if (confirm('ç¡®å®šåˆ é™¤ï¼Ÿ')) {
                    setWeeklyTasks(weeklyTasks.filter(t => t.id !== id));
                }
            };

            const handleDragStart = (e, task) => {
                setDraggedTask(task);
                e.dataTransfer.effectAllowed = 'move';
            };

            const handleDragEnd = () => {
                setDraggedTask(null);
                setDragOverDay(null);
            };

            const handleDragOver = (e, dayId) => {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
                setDragOverDay(dayId);
            };

            const handleDragLeave = () => {
                setDragOverDay(null);
            };

            const handleDrop = (e, dayId) => {
                e.preventDefault();
                if (!draggedTask) return;
                
                setWeeklyAssign(prev => ({
                    ...prev,
                    [draggedTask.id]: dayId
                }));
                
                setDraggedTask(null);
                setDragOverDay(null);
                
                const dayName = WEEKDAYS.find(d => d.id === dayId)?.name || '';
                showToast(`å·²åˆ†é…åˆ°${dayName}`);
            };

            const getTasksByDay = (dayId) => {
                return weeklyTasks.filter(task => {
                    const assigned = weeklyAssign[task.id];
                    return assigned === dayId || (assigned === undefined && dayId === 0);
                });
            };

            const getDailyProgress = (date) => {
                const completed = dailyTasks.filter(t => dailyChecks[`${date}-${t.id}`]).length;
                return dailyTasks.length > 0 ? Math.round((completed / dailyTasks.length) * 100) : 0;
            };

            const exportData = () => {
                const data = {
                    dailyChecks, weeklyChecks, weeklyAssign, checkpoints,
                    battery, notes, dailyTasks, weeklyTasks,
                    exportDate: new Date().toISOString()
                };
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `eva-backup-${new Date().toISOString().split('T')[0]}.json`;
                a.click();
                showToast('æ•°æ®å·²å¯¼å‡º');
            };

            const importData = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (ev) => {
                    try {
                        const data = JSON.parse(ev.target.result);
                        if (confirm('å¯¼å…¥å°†è¦†ç›–å½“å‰æ•°æ®ï¼Œç¡®å®šå—ï¼Ÿ')) {
                            setDailyChecks(data.dailyChecks || {});
                            setWeeklyChecks(data.weeklyChecks || {});
                            setWeeklyAssign(data.weeklyAssign || {});
                            setCheckpoints(data.checkpoints || {});
                            setBattery(data.battery || 60);
                            setNotes(data.notes || {});
                            setDailyTasks(data.dailyTasks || DEFAULT_DAILY);
                            setWeeklyTasks(data.weeklyTasks || DEFAULT_WEEKLY);
                            showToast('æ•°æ®å¯¼å…¥æˆåŠŸ');
                            setShowBackup(false);
                        }
                    } catch (err) {
                        showToast('å¯¼å…¥å¤±è´¥', 'error');
                    }
                };
                reader.readAsText(file);
            };

            const batteryColor = battery >= 60 ? 'bg-emerald-500' : battery >= 30 ? 'bg-amber-400' : 'bg-rose-500';

            return (
                <div className="max-w-7xl mx-auto">
                    {/* Header */}
                    <div className="bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 mb-6 border border-sky-100">
                        <div className="flex items-center justify-between mb-4">
                            <div>
                                <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-sky-600 to-violet-600 bg-clip-text text-transparent">
                                    âœ¨ Evaçš„1æœˆè¡ŒåŠ¨æ¸…å•
                                </h1>
                                <p className="text-slate-600 text-sm mt-1">æ¢å¤ â†’ è§„åˆ’ â†’ å¯åŠ¨ â†’ æˆé•¿</p>
                            </div>
                            <button
                                onClick={() => setShowBackup(true)}
                                className="px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 text-sm"
                            >
                                ğŸ’¾ å¤‡ä»½
                            </button>
                        </div>

                        {/* Battery */}
                        <div className="bg-gradient-to-br from-emerald-50 to-teal-50 p-4 rounded-xl border border-emerald-100 mb-4">
                            <div className="text-sm text-slate-600 mb-2">æƒ…ç»ªç”µæ± </div>
                            <div className="flex items-center gap-3">
                                <div className="battery-indicator">
                                    <div className={`battery-fill ${batteryColor}`} style={{ width: `${battery}%` }}></div>
                                    <div className="battery-tip"></div>
                                </div>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value={battery}
                                    onChange={(e) => setBattery(Number(e.target.value))}
                                    className="flex-1"
                                />
                                <span className="text-lg font-bold text-slate-800">{battery}%</span>
                            </div>
                        </div>

                        {/* Date Nav */}
                        <div className="flex items-center justify-between mb-4">
                            <button
                                onClick={() => setCurrentDate(Math.max(1, currentDate - 1))}
                                className="px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 text-sm"
                                disabled={currentDate === 1}
                            >
                                â† å‰ä¸€å¤©
                            </button>
                            <div className="text-2xl font-bold text-slate-800">1æœˆ{currentDate}æ—¥</div>
                            <button
                                onClick={() => setCurrentDate(Math.min(31, currentDate + 1))}
                                className="px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 text-sm"
                                disabled={currentDate === 31}
                            >
                                åä¸€å¤© â†’
                            </button>
                        </div>

                        {/* Date Grid */}
                        <div className="flex flex-wrap gap-2">
                            {Array.from({ length: 31 }, (_, i) => i + 1).map(date => {
                                const progress = getDailyProgress(date);
                                return (
                                    <button
                                        key={date}
                                        onClick={() => setCurrentDate(date)}
                                        className={`w-10 h-10 rounded-lg font-semibold text-sm ${
                                            currentDate === date ? 'bg-sky-500 text-white scale-110' :
                                            progress === 100 ? 'bg-emerald-400 text-white' :
                                            progress > 0 ? 'bg-amber-200 text-slate-800' :
                                            'bg-slate-100 text-slate-600'
                                        }`}
                                    >
                                        {date}
                                    </button>
                                );
                            })}
                        </div>
                    </div>

                    {/* Checkpoints */}
                    <div className="bg-white/90 rounded-2xl shadow-lg p-6 mb-6 border border-violet-100">
                        <h2 className="text-2xl font-bold text-slate-800 mb-4">
                            ğŸ¯ 1æœˆåº•æ£€æŸ¥ç‚¹ ({DEFAULT_CHECKPOINTS.filter(cp => checkpoints[cp.id]).length}/{DEFAULT_CHECKPOINTS.length})
                        </h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                            {DEFAULT_CHECKPOINTS.map(cp => (
                                <label
                                    key={cp.id}
                                    className={`flex items-center gap-3 p-4 rounded-xl cursor-pointer border-2 ${
                                        checkpoints[cp.id] ? 'bg-emerald-50 border-emerald-400' : 'bg-slate-50 border-slate-200'
                                    }`}
                                >
                                    <input
                                        type="checkbox"
                                        checked={checkpoints[cp.id] || false}
                                        onChange={() => toggleCheckpoint(cp.id)}
                                        className="checkbox-custom"
                                    />
                                    <span className={checkpoints[cp.id] ? 'line-through text-slate-500' : 'text-slate-700'}>
                                        {cp.text}
                                    </span>
                                </label>
                            ))}
                        </div>
                    </div>

                    {/* Weekly Tasks with Drag & Drop */}
                    <div className="bg-white/90 rounded-2xl shadow-lg p-6 mb-6 border border-sky-100">
                        <div className="flex items-center justify-between mb-4">
                            <h2 className="text-2xl font-bold text-slate-800">ğŸ¯ æœ¬å‘¨ä»»åŠ¡è§„åˆ’</h2>
                            <button
                                onClick={() => setShowAddWeekly(true)}
                                className="px-3 py-2 bg-violet-500 text-white rounded-lg hover:bg-violet-600 text-sm"
                            >
                                + æ·»åŠ 
                            </button>
                        </div>
                        
                        <div className="text-sm text-slate-600 mb-3">ğŸ’¡ æ‹–æ‹½ä»»åŠ¡åˆ°å‘¨ä¸€è‡³å‘¨äº”è¿›è¡Œè§„åˆ’</div>
                        
                        <div className="grid grid-cols-2 md:grid-cols-6 gap-3">
                            {WEEKDAYS.map(day => {
                                const tasks = getTasksByDay(day.id);
                                const completed = tasks.filter(t => weeklyChecks[t.id]).length;
                                
                                return (
                                    <div
                                        key={day.id}
                                        className={`drop-zone rounded-lg p-3 border-2 ${
                                            day.id === 0 ? 'bg-slate-50 border-slate-200' : 'bg-sky-50 border-sky-200'
                                        } ${dragOverDay === day.id ? 'drag-over' : ''}`}
                                        onDragOver={(e) => handleDragOver(e, day.id)}
                                        onDragLeave={handleDragLeave}
                                        onDrop={(e) => handleDrop(e, day.id)}
                                    >
                                        <div className="font-semibold text-sm text-slate-700 mb-2 flex justify-between">
                                            <span>{day.name}</span>
                                            {tasks.length > 0 && <span className="text-xs text-slate-500">{completed}/{tasks.length}</span>}
                                        </div>
                                        
                                        <div className="space-y-2">
                                            {tasks.map(task => (
                                                <div
                                                    key={task.id}
                                                    draggable
                                                    onDragStart={(e) => handleDragStart(e, task)}
                                                    onDragEnd={handleDragEnd}
                                                    className={`draggable-task p-2 rounded-lg bg-white border border-slate-200 ${
                                                        draggedTask?.id === task.id ? 'dragging' : ''
                                                    }`}
                                                >
                                                    <div className="flex items-start gap-2">
                                                        <input
                                                            type="checkbox"
                                                            checked={weeklyChecks[task.id] || false}
                                                            onChange={() => toggleWeekly(task.id)}
                                                            className="checkbox-custom mt-0.5"
                                                            onClick={(e) => e.stopPropagation()}
                                                        />
                                                        <span className={`text-xs flex-1 ${weeklyChecks[task.id] ? 'line-through text-slate-500' : 'text-slate-700'}`}>
                                                            {task.text}
                                                        </span>
                                                        {task.id.startsWith('custom-') && (
                                                            <button
                                                                onClick={(e) => {
                                                                    e.stopPropagation();
                                                                    removeWeeklyTask(task.id);
                                                                }}
                                                                className="text-rose-500 text-xs"
                                                            >
                                                                âœ•
                                                            </button>
                                                        )}
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        {/* Daily Tasks */}
                        <div className="bg-white/90 rounded-2xl shadow-lg p-6 border border-emerald-100">
                            <div className="flex items-center justify-between mb-4">
                                <h2 className="text-xl font-bold text-slate-800">
                                    ğŸ“‹ æ¯æ—¥å¿…åš ({dailyTasks.filter(t => dailyChecks[`${currentDate}-${t.id}`]).length}/{dailyTasks.length})
                                </h2>
                                <button
                                    onClick={() => setShowAddDaily(true)}
                                    className="px-3 py-1 bg-sky-500 text-white rounded-lg hover:bg-sky-600 text-sm"
                                >
                                    + æ·»åŠ 
                                </button>
                            </div>
                            <div className="space-y-2 max-h-96 overflow-y-auto scrollbar-custom">
                                {dailyTasks.map(task => {
                                    const isChecked = dailyChecks[`${currentDate}-${task.id}`];
                                    return (
                                        <div key={task.id} className="flex items-center gap-2">
                                            <label className={`flex-1 flex items-center gap-3 p-3 rounded-lg cursor-pointer ${
                                                isChecked ? 'bg-emerald-50' : 'bg-slate-50'
                                            }`}>
                                                <input
                                                    type="checkbox"
                                                    checked={isChecked || false}
                                                    onChange={() => toggleDaily(task.id)}
                                                    className="checkbox-custom"
                                                />
                                                <span className={`flex-1 text-sm ${isChecked ? 'line-through text-slate-500' : 'text-slate-700'}`}>
                                                    {task.text}
                                                </span>
                                            </label>
                                            {task.id.startsWith('custom-') && (
                                                <button
                                                    onClick={() => removeDailyTask(task.id)}
                                                    className="px-2 text-rose-500 text-sm"
                                                >
                                                    âœ•
                                                </button>
                                            )}
                                        </div>
                                    );
                                })}
                            </div>
                        </div>

                        {/* Notes */}
                        <div className="bg-white/90 rounded-2xl shadow-lg p-6 border border-amber-100">
                            <h3 className="text-xl font-bold text-slate-800 mb-4">ğŸ“ ä»Šæ—¥ç¬”è®°</h3>
                            <textarea
                                value={notes[currentDate] || ''}
                                onChange={(e) => setNotes({ ...notes, [currentDate]: e.target.value })}
                                placeholder="è®°å½•ä»Šå¤©çš„æ„Ÿå—ã€æˆå°±..."
                                className="w-full p-4 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-sky-400 resize-none text-sm"
                                rows="14"
                            />
                        </div>
                    </div>

                    {/* Footer */}
                    <div className="mt-6 bg-gradient-to-r from-sky-50 to-violet-50 rounded-2xl p-6 text-center border border-sky-100">
                        <p className="text-sm text-slate-700">
                            ğŸ’¡ <strong>è®°ä½ï¼š</strong> è¿™ä¸ªchecklistæ˜¯å¸®åŠ©ä½ ï¼Œä¸æ˜¯çº¦æŸä½ 
                        </p>
                        <p className="text-xs text-slate-600 mt-1">
                            ç”µæ±  &lt; 30%ï¼Œä¼˜å…ˆä¼‘æ¯ âœ¨
                        </p>
                    </div>

                    {/* Modals */}
                    {showAddDaily && (
                        <div className="modal active" onClick={() => setShowAddDaily(false)}>
                            <div className="bg-white rounded-2xl p-6 max-w-md w-full mx-4" onClick={(e) => e.stopPropagation()}>
                                <h3 className="text-xl font-bold mb-4">æ·»åŠ æ¯æ—¥ä»»åŠ¡</h3>
                                <input
                                    type="text"
                                    value={newDailyText}
                                    onChange={(e) => setNewDailyText(e.target.value)}
                                    placeholder="ä¾‹å¦‚ï¼šğŸ¨ ç”»ç”»30åˆ†é’Ÿ"
                                    className="w-full p-3 border-2 border-slate-200 rounded-lg mb-4"
                                />
                                <div className="flex gap-2">
                                    <button onClick={addDailyTask} className="flex-1 px-4 py-2 bg-sky-500 text-white rounded-lg">æ·»åŠ </button>
                                    <button onClick={() => setShowAddDaily(false)} className="flex-1 px-4 py-2 bg-slate-200 rounded-lg">å–æ¶ˆ</button>
                                </div>
                            </div>
                        </div>
                    )}

                    {showAddWeekly && (
                        <div className="modal active" onClick={() => setShowAddWeekly(false)}>
                            <div className="bg-white rounded-2xl p-6 max-w-md w-full mx-4" onClick={(e) => e.stopPropagation()}>
                                <h3 className="text-xl font-bold mb-4">æ·»åŠ æœ¬å‘¨ä»»åŠ¡</h3>
                                <input
                                    type="text"
                                    value={newWeeklyText}
                                    onChange={(e) => setNewWeeklyText(e.target.value)}
                                    placeholder="ä¾‹å¦‚ï¼šğŸ’¼ å®Œæˆé¡¹ç›®æŠ¥å‘Š"
                                    className="w-full p-3 border-2 border-slate-200 rounded-lg mb-4"
                                />
                                <div className="flex gap-2">
                                    <button onClick={addWeeklyTask} className="flex-1 px-4 py-2 bg-violet-500 text-white rounded-lg">æ·»åŠ </button>
                                    <button onClick={() => setShowAddWeekly(false)} className="flex-1 px-4 py-2 bg-slate-200 rounded-lg">å–æ¶ˆ</button>
                                </div>
                            </div>
                        </div>
                    )}

                    {showBackup && (
                        <div className="modal active" onClick={() => setShowBackup(false)}>
                            <div className="bg-white rounded-2xl p-6 max-w-md w-full mx-4" onClick={(e) => e.stopPropagation()}>
                                <h3 className="text-xl font-bold mb-4">æ•°æ®å¤‡ä»½</h3>
                                <div className="space-y-3">
                                    <button onClick={exportData} className="w-full px-4 py-3 bg-sky-500 text-white rounded-lg text-left">
                                        ğŸ’¾ å¯¼å‡ºæ•°æ®
                                    </button>
                                    <label className="w-full px-4 py-3 bg-emerald-500 text-white rounded-lg cursor-pointer block">
                                        ğŸ“‚ å¯¼å…¥æ•°æ®
                                        <input type="file" accept=".json" onChange={importData} className="hidden" />
                                    </label>
                                </div>
                                <button onClick={() => setShowBackup(false)} className="w-full mt-4 px-4 py-2 bg-slate-200 rounded-lg">å…³é—­</button>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>